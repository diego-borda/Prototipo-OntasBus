/*------------------------------------- Mapa ----------------------------------------------*/
/*--------------- Creacion de mapa ---------------*/
var mapa = L.map("Mapa").setView([12.154372, -86.273], 15)
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png?{foo}', { foo: 'bar', attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors' }).addTo(mapa);
// Segun el video esto queda hasta ... .png?,{}) --> asi

/*-------------------- Creando las lineas de las rutas -------------------*/

var Ruta104MM_H__GEOJsonLine = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            -86.19462233730738,
            12.134974224133032
          ],
          [
            -86.19466490575948,
            12.133647092495835
          ],
          [
            -86.1969762410582,
            12.133901421370197
          ],
          [
            -86.19747036145301,
            12.134006746509314
          ],
          [
            -86.19778751747312,
            12.134104268610443
          ],
          [
            -86.1984064832538,
            12.134414338642955
          ],
          [
            -86.19852669561605,
            12.13476441727866
          ],
          [
            -86.19777065134484,
            12.135910519466591
          ],
          [
            -86.19701356887624,
            12.137328327617695
          ],
          [
            -86.1961216644921,
            12.139578208741483
          ],
          [
            -86.19555521123343,
            12.141710466905081
          ],
          [
            -86.19527005860922,
            12.14378765823838
          ],
          [
            -86.19517769864193,
            12.147035006435544
          ],
          [
            -86.19519311235638,
            12.147592544587326
          ],
          [
            -86.19559001647556,
            12.14805590289673
          ],
          [
            -86.19742039561463,
            12.148240492024343
          ],
          [
            -86.19989044172155,
            12.148481588870212
          ],
          [
            -86.20254930294601,
            12.148707617260072
          ],
          [
            -86.2082292507994,
            12.14923124705858
          ],
          [
            -86.21200560787415,
            12.149574055017823
          ],
          [
            -86.21455657406463,
            12.149792548764125
          ],
          [
            -86.2147184180696,
            12.14981138433592
          ],
          [
            -86.21486099493114,
            12.149592891615612
          ],
          [
            -86.21464134949585,
            12.149005220650409
          ],
          [
            -86.21372702340855,
            12.146518527345208
          ],
          [
            -86.21363839454834,
            12.144876040114013
          ],
          [
            -86.21404685634934,
            12.144179112728409
          ],
          [
            -86.21501468120509,
            12.14276985174449
          ],
          [
            -86.21512643063723,
            12.142491077765357
          ],
          [
            -86.21531524917435,
            12.141545503593292
          ],
          [
            -86.21580463525102,
            12.138885827779063
          ],
          [
            -86.216413476985,
            12.137928939758197
          ],
          [
            -86.21661000262687,
            12.137638857330245
          ],
          [
            -86.21689130292144,
            12.137171713390458
          ],
          [
            -86.2172304046468,
            12.137152876923608
          ],
          [
            -86.21899527552826,
            12.138181346483407
          ],
          [
            -86.21962338549855,
            12.138283063014995
          ],
          [
            -86.22141137084995,
            12.138456357688625
          ],
          [
            -86.22339588486649,
            12.138501565138213
          ],
          [
            -86.22398160625376,
            12.13838477938772
          ],
          [
            -86.22422822569045,
            12.138290597470984
          ],
          [
            -86.22465209920506,
            12.138271760768248
          ],
          [
            -86.22599308457079,
            12.13828682987915
          ],
          [
            -86.22705663089025,
            12.138320735373995
          ],
          [
            -86.22771938850723,
            12.138399816383952
          ],
          [
            -86.22815867937875,
            12.13770286945308
          ],
          [
            -86.22884073624273,
            12.136173347089425
          ],
          [
            -86.23069709588584,
            12.132004846479049
          ],
          [
            -86.23115950732931,
            12.130701334588807
          ],
          [
            -86.23155640758591,
            12.129774560935346
          ],
          [
            -86.23204194052802,
            12.12925089217461
          ],
          [
            -86.2330130045593,
            12.12883270987939
          ],
          [
            -86.23360643265897,
            12.128651874099887
          ],
          [
            -86.23765775414384,
            12.127327490511504
          ],
          [
            -86.23811245795312,
            12.127097677884024
          ],
          [
            -86.23908352198441,
            12.1263441897119
          ],
          [
            -86.24179248015407,
            12.12411762133172
          ],
          [
            -86.2419312035871,
            12.124083714030178
          ],
          [
            -86.24222791759662,
            12.123842595321847
          ],
          [
            -86.24260170018034,
            12.123526126685448
          ],
          [
            -86.24264023446722,
            12.12342440454428
          ],
          [
            -86.2455114279622,
            12.121119345944052
          ],
          [
            -86.24921856902425,
            12.118361420495802
          ],
          [
            -86.25109133488886,
            12.116997561984036
          ],
          [
            -86.25141502289927,
            12.117023935030062
          ],
          [
            -86.25177339176807,
            12.117517487266596
          ],
          [
            -86.2525093932088,
            12.118497045747176
          ],
          [
            -86.25251710024858,
            12.121842614305393
          ],
          [
            -86.25272518547345,
            12.122652628368058
          ],
          [
            -86.25323383811624,
            12.124607953522755
          ],
          [
            -86.25350365084478,
            12.124947167790125
          ],
          [
            -86.25412790629322,
            12.125440705369499
          ],
          [
            -86.25483693862334,
            12.125892801216196
          ],
          [
            -86.255538262646,
            12.126431546389284
          ],
          [
            -86.25587736437136,
            12.126842197572685
          ],
          [
            -86.25611627635394,
            12.127448755643968
          ],
          [
            -86.25622031892861,
            12.12799879994094
          ],
          [
            -86.25609315488155,
            12.129080048802422
          ],
          [
            -86.25636289409334,
            12.130044503410275
          ],
          [
            -86.25692164170718,
            12.131046629218233
          ],
          [
            -86.25713358028547,
            12.131611735580492
          ],
          [
            -86.25724918314607,
            12.132199444925021
          ],
          [
            -86.2571913817158,
            12.132726875285044
          ],
          [
            -86.2574110281355,
            12.13296798674375
          ],
          [
            -86.2575381912821,
            12.133111146103374
          ],
          [
            -86.25780793129117,
            12.133958798630957
          ],
          [
            -86.25845916119499,
            12.136279467407391
          ],
          [
            -86.25922214053644,
            12.139055956949662
          ],
          [
            -86.25950413289972,
            12.14003370755475
          ],
          [
            -86.25975075244153,
            12.141623484973962
          ],
          [
            -86.25977810062464,
            12.142924662454718
          ],
          [
            -86.2596894718383,
            12.143128092354075
          ],
          [
            -86.25955460183421,
            12.143896601861059
          ],
          [
            -86.25942743868715,
            12.144702781018708
          ],
          [
            -86.26000545420331,
            12.14512093849602
          ],
          [
            -86.26028675449787,
            12.145365805129131
          ],
          [
            -86.26080311394315,
            12.14497025122553
          ],
          [
            -86.2616701251605,
            12.14425072447709
          ],
          [
            -86.26201693374333,
            12.144058597564012
          ],
          [
            -86.26234062175374,
            12.143971952048275
          ],
          [
            -86.2628957712604,
            12.143914438561907
          ],
          [
            -86.26383215443292,
            12.144117867163757
          ],
          [
            -86.2641673880033,
            12.144121632617427
          ],
          [
            -86.26560086347753,
            12.144031219925878
          ],
          [
            -86.266726064711,
            12.14418567497529
          ],
          [
            -86.26847936918733,
            12.144464447560708
          ],
          [
            -86.2684870760448,
            12.143688405291215
          ],
          [
            -86.26822098265117,
            12.143134222689099
          ],
          [
            -86.26785875994067,
            12.141050947235883
          ],
          [
            -86.26786261336962,
            12.140240989773687
          ],
          [
            -86.2679615351203,
            12.139039944914103
          ],
          [
            -86.26825824912983,
            12.138094359287265
          ],
          [
            -86.26835843836047,
            12.137853253012253
          ],
          [
            -86.26863203179757,
            12.137442618792534
          ],
          [
            -86.26906746924011,
            12.137182675703798
          ],
          [
            -86.26952602725507,
            12.136994310987077
          ],
          [
            -86.27032754117748,
            12.136945335706187
          ],
          [
            -86.27252755001673,
            12.136813480508266
          ],
          [
            -86.27459964804933,
            12.136503472300532
          ],
          [
            -86.27692669050573,
            12.136032350130122
          ],
          [
            -86.28019408850105,
            12.135359070666198
          ],
          [
            -86.28052933679793,
            12.13530632819807
          ],
          [
            -86.28072971508976,
            12.135340234072217
          ],
          [
            -86.28093009338208,
            12.13545702093694
          ],
          [
            -86.28120754027972,
            12.135441951666422
          ],
          [
            -86.28131928904007,
            12.135366605019087
          ],
          [
            -86.28140406447127,
            12.135257352754792
          ],
          [
            -86.2813925041853,
            12.135125496515457
          ],
          [
            -86.2813385561835,
            12.135008709505371
          ],
          [
            -86.28121139303691,
            12.13487685314199
          ],
          [
            -86.28116900532106,
            12.134677184810286
          ],
          [
            -86.2811850431022,
            12.134367760156707
          ],
          [
            -86.2813584473936,
            12.133497504860543
          ],
          [
            -86.28137000767957,
            12.13311700273492
          ],
          [
            -86.28120992453137,
            12.132580976522291
          ],
          [
            -86.28090165023202,
            12.132072382695213
          ],
          [
            -86.2807937542284,
            12.13191038594114
          ],
          [
            -86.28063213958126,
            12.131321780343328
          ],
          [
            -86.28066296701846,
            12.130825939083849
          ],
          [
            -86.28086334531027,
            12.129609071643628
          ],
          [
            -86.28107913756342,
            12.128893265349546
          ],
          [
            -86.2812486855543,
            12.128490154549368
          ],
          [
            -86.28178045871454,
            12.127627414920553
          ],
          [
            -86.28300440880221,
            12.126003367822122
          ],
          [
            -86.28330497624071,
            12.125754715939863
          ],
          [
            -86.28349379424658,
            12.125686901750683
          ],
          [
            -86.28361325053618,
            12.125626622455698
          ],
          [
            -86.28369417253892,
            12.125475924160483
          ],
          [
            -86.28367875882398,
            12.12532145831922
          ],
          [
            -86.28362866425113,
            12.12523480671075
          ],
          [
            -86.28362866474747,
            12.12421005638845
          ],
          [
            -86.28361325103252,
            12.123810703597059
          ],
          [
            -86.28373270733455,
            12.123320930363462
          ],
          [
            -86.28384831019518,
            12.122951716195743
          ],
          [
            -86.28389840476801,
            12.122578734018262
          ],
          [
            -86.28386757733863,
            12.12231124142862
          ],
          [
            -86.28376738819246,
            12.121979700944337
          ],
          [
            -86.28360554418748,
            12.12158787984211
          ],
          [
            -86.2834668207322,
            12.121260105365579
          ],
          [
            -86.28337048501501,
            12.12093609862167
          ],
          [
            -86.28333580415664,
            12.120649766752095
          ],
          [
            -86.28336663158606,
            12.12038227222736
          ],
          [
            -86.2834668207322,
            12.119922633123394
          ],
          [
            -86.2835785701759,
            12.119372572216392
          ],
          [
            -86.28391767193577,
            12.11844952214635
          ],
          [
            -86.28405639536881,
            12.117989879713008
          ],
          [
            -86.28416814480094,
            12.117319252446848
          ],
          [
            -86.2843376956634,
            12.116885981126416
          ],
          [
            -86.28463826179929,
            12.116207817347458
          ],
          [
            -86.28480395923275,
            12.116030740590247
          ],
          [
            -86.28493882923729,
            12.115966691521379
          ],
          [
            -86.28548986954094,
            12.115959156335236
          ],
          [
            -86.28573648897715,
            12.115906410030135
          ],
          [
            -86.28595998784141,
            12.115740635860803
          ],
          [
            -86.28606788366454,
            12.115586162649407
          ],
          [
            -86.28649946769029,
            12.11465556423596
          ],
          [
            -86.28675379450588,
            12.113868144974006
          ],
          [
            -86.2868115959362,
            12.113208810246675
          ],
          [
            -86.28681159611496,
            12.111897670829535
          ],
          [
            -86.28681159611496,
            12.11147192602104
          ],
          [
            -86.28683857011588,
            12.11097459494205
          ],
          [
            -86.28697740090816,
            12.110404846905752
          ],
          [
            -86.2871818913106,
            12.10923032223721
          ],
          [
            -86.2872666667418,
            12.109015563945334
          ],
          [
            -86.2872088653115,
            12.108951513193503
          ],
          [
            -86.28486983238743,
            12.108872392291545
          ],
          [
            -86.28395271635799,
            12.108853553827117
          ],
          [
            -86.28202600256263,
            12.108977887950246
          ],
          [
            -86.28205682999202,
            12.109320747645015
          ],
          [
            -86.28212619172841,
            12.10995748490123
          ],
          [
            -86.28241519888046,
            12.111004897204865
          ],
          [
            -86.28258474927972,
            12.111502228871117
          ],
          [
            -86.28269649871184,
            12.111954347178226
          ],
          [
            -86.28276971385712,
            12.11245167643132
          ],
          [
            -86.28288917056354,
            12.113419954812144
          ],
          [
            -86.28285448970516,
            12.114226226132828
          ],
          [
            -86.28295467885131,
            12.114908163994897
          ],
          [
            -86.28297779825726,
            12.1153640451912
          ],
          [
            -86.28283522139573,
            12.116211754125999
          ],
          [
            -86.28282751316956,
            12.116321014659874
          ],
          [
            -86.28289302145737,
            12.116449112612145
          ]
        ],
        "type": "LineString"
      }
    }
  ]
}

var Ruta104H_MM__GEOJsonLine = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            -86.28293962770263,
            12.116454510870668
          ],
          [
            -86.28285174347928,
            12.116311811589497
          ],
          [
            -86.28285017411815,
            12.116193662663505
          ],
          [
            -86.28299640799781,
            12.115381342058996
          ],
          [
            -86.28297286763151,
            12.114901073831646
          ],
          [
            -86.28294148040872,
            12.114637155284456
          ],
          [
            -86.2828692898415,
            12.11411392485627
          ],
          [
            -86.2829038157866,
            12.113441850711936
          ],
          [
            -86.28279504974279,
            12.112450146942265
          ],
          [
            -86.2827369836712,
            12.11204199075155
          ],
          [
            -86.28259260390679,
            12.111463514439464
          ],
          [
            -86.28238544897852,
            12.11083439940576
          ],
          [
            -86.28217213490097,
            12.110023032528673
          ],
          [
            -86.28215644144937,
            12.109970863085863
          ],
          [
            -86.28206223672767,
            12.109146743254158
          ],
          [
            -86.28329392250954,
            12.109085365562166
          ],
          [
            -86.28453212787082,
            12.10898426032513
          ],
          [
            -86.28686432469769,
            12.109093204773899
          ],
          [
            -86.28698830422691,
            12.109154582478254
          ],
          [
            -86.28707775781139,
            12.10930956111794
          ],
          [
            -86.28687374072189,
            12.110415891354293
          ],
          [
            -86.28671366584152,
            12.111132471633354
          ],
          [
            -86.28668698785087,
            12.112332398639708
          ],
          [
            -86.28667286358932,
            12.113208553361915
          ],
          [
            -86.28666658616814,
            12.113590623182986
          ],
          [
            -86.28659439536278,
            12.113983433511322
          ],
          [
            -86.2865313265355,
            12.11423411759175
          ],
          [
            -86.285991466032,
            12.115526090599658
          ],
          [
            -86.28584865416929,
            12.11573170089828
          ],
          [
            -86.28562580488864,
            12.115845246816818
          ],
          [
            -86.28510477684304,
            12.115859056362268
          ],
          [
            -86.28488977462257,
            12.115863659662978
          ],
          [
            -86.28469831256471,
            12.115949586265629
          ],
          [
            -86.28458217972515,
            12.116064666944112
          ],
          [
            -86.28420710242352,
            12.116885571723031
          ],
          [
            -86.28410367593095,
            12.117166366412278
          ],
          [
            -86.28387611854497,
            12.118280336039419
          ],
          [
            -86.28347122390255,
            12.119332923999679
          ],
          [
            -86.28323582081856,
            12.120647884953286
          ],
          [
            -86.28327348548557,
            12.120940950676058
          ],
          [
            -86.28334570612778,
            12.121223304688897
          ],
          [
            -86.28372862090214,
            12.122199146311104
          ],
          [
            -86.28379767279196,
            12.122499882158507
          ],
          [
            -86.28380081107814,
            12.122749983843136
          ],
          [
            -86.2836545841332,
            12.123327714096362
          ],
          [
            -86.28354159013173,
            12.123614639438614
          ],
          [
            -86.28350060008306,
            12.123954097554446
          ],
          [
            -86.28348796726578,
            12.124664580219005
          ],
          [
            -86.28344245546104,
            12.12484256514476
          ],
          [
            -86.28326982573668,
            12.125014412538803
          ],
          [
            -86.28280609953077,
            12.125259868785292
          ],
          [
            -86.28276843486373,
            12.1253457923617
          ],
          [
            -86.28277314314396,
            12.125507232487578
          ],
          [
            -86.28285945800613,
            12.125620774245718
          ],
          [
            -86.28279125967599,
            12.125968567986888
          ],
          [
            -86.2821242745393,
            12.126841835940823
          ],
          [
            -86.28132759142554,
            12.127929598623837
          ],
          [
            -86.28117536339586,
            12.128187366689275
          ],
          [
            -86.28092112697126,
            12.12873665718422
          ],
          [
            -86.28069372307125,
            12.129591770430991
          ],
          [
            -86.28053521774379,
            12.130596767238899
          ],
          [
            -86.2804771515619,
            12.131011032610445
          ],
          [
            -86.28047715131054,
            12.13155583414894
          ],
          [
            -86.2805807294543,
            12.131878269613637
          ],
          [
            -86.28073471674828,
            12.132198583389169
          ],
          [
            -86.28109880853091,
            12.1327754832852
          ],
          [
            -86.28116315226967,
            12.133088481930969
          ],
          [
            -86.28119924757591,
            12.133393808405557
          ],
          [
            -86.28114565389635,
            12.13393027579906
          ],
          [
            -86.28099484299096,
            12.1347061364484
          ],
          [
            -86.28083855545593,
            12.134921653342118
          ],
          [
            -86.28074439378796,
            12.135038259676818
          ],
          [
            -86.28074410814247,
            12.135038375701399
          ],
          [
            -86.28062562137731,
            12.135127364712162
          ],
          [
            -86.28062602381571,
            12.135127074026343
          ],
          [
            -86.28044520755603,
            12.1352248780466
          ],
          [
            -86.27727019427245,
            12.135855855211659
          ],
          [
            -86.27545489122173,
            12.13623812567431
          ],
          [
            -86.27265620517893,
            12.13665048644728
          ],
          [
            -86.26996668713404,
            12.136776619987714
          ],
          [
            -86.26951743662963,
            12.136690185374349
          ],
          [
            -86.26930902381177,
            12.136598010684153
          ],
          [
            -86.26882272723677,
            12.136728995759938
          ],
          [
            -86.26852499464009,
            12.136966709252391
          ],
          [
            -86.26803869736707,
            12.138552354869617
          ],
          [
            -86.26777073764667,
            12.140560771911211
          ],
          [
            -86.2678464664586,
            12.141304315372238
          ],
          [
            -86.26765790248028,
            12.142031996566061
          ],
          [
            -86.26731541887928,
            12.144094376526894
          ],
          [
            -86.26729557003975,
            12.144283571846088
          ],
          [
            -86.26765790248028,
            12.142031996566061
          ],
          [
            -86.26731541887928,
            12.144094376526894
          ],
          [
            -86.26728450194936,
            12.144278401006446
          ],
          [
            -86.2671257112306,
            12.144234740558431
          ],
          [
            -86.2657017139094,
            12.144009084608413
          ],
          [
            -86.26388115259864,
            12.144125976166748
          ],
          [
            -86.26337996939355,
            12.144019250555814
          ],
          [
            -86.26295818154841,
            12.14391737606799
          ],
          [
            -86.26256120520192,
            12.143927078374816
          ],
          [
            -86.26212453072607,
            12.144009548198099
          ],
          [
            -86.26161838531152,
            12.144247255192596
          ],
          [
            -86.2604919632716,
            12.145222336779895
          ],
          [
            -86.26044730280002,
            12.145251441442966
          ],
          [
            -86.26001559097017,
            12.143902819848407
          ],
          [
            -86.2597922915222,
            12.142927733446342
          ],
          [
            -86.25976178375498,
            12.14164132695997
          ],
          [
            -86.25956329535722,
            12.140394563470835
          ],
          [
            -86.2590660975476,
            12.138339147860847
          ],
          [
            -86.25889738240944,
            12.13780550778118
          ],
          [
            -86.2586591962638,
            12.136898316553555
          ],
          [
            -86.2579873803626,
            12.134441637919124
          ],
          [
            -86.25782362743384,
            12.133844922484087
          ],
          [
            -86.25772934544497,
            12.13320939482152
          ],
          [
            -86.25781370256692,
            12.132908609612912
          ],
          [
            -86.25791790897584,
            12.13263693289629
          ],
          [
            -86.25793279560598,
            12.132496243059023
          ],
          [
            -86.25778889151736,
            12.1323070393681
          ],
          [
            -86.25751100776023,
            12.13220030902086
          ],
          [
            -86.257337330412,
            12.131914077425591
          ],
          [
            -86.25705381339276,
            12.131071943805566
          ],
          [
            -86.25652765189855,
            12.130086944076496
          ],
          [
            -86.25630435243035,
            12.12948051601893
          ],
          [
            -86.25622495786158,
            12.128976612650362
          ],
          [
            -86.25630931522704,
            12.128132461092079
          ],
          [
            -86.25631427731443,
            12.127773453193939
          ],
          [
            -86.2560562423968,
            12.126987515366395
          ],
          [
            -86.25576843422022,
            12.126478109980596
          ],
          [
            -86.25540824979258,
            12.12616477672536
          ],
          [
            -86.25424213014024,
            12.125383685081133
          ],
          [
            -86.25351764736479,
            12.124864573360767
          ],
          [
            -86.25335885664667,
            12.124641403630093
          ],
          [
            -86.25318021708843,
            12.124175657504594
          ],
          [
            -86.25257857833503,
            12.121794960296896
          ],
          [
            -86.25257167020801,
            12.119788104557031
          ],
          [
            -86.25255331754018,
            12.118558965023496
          ],
          [
            -86.25154392079506,
            12.117096550758177
          ],
          [
            -86.2512386091196,
            12.116673045506602
          ],
          [
            -86.24889864393842,
            12.118440505032822
          ],
          [
            -86.24594938853532,
            12.120620028887998
          ],
          [
            -86.24309554749878,
            12.122809129716856
          ],
          [
            -86.23887443475256,
            12.126379841458828
          ],
          [
            -86.23798433344643,
            12.127070651156274
          ],
          [
            -86.23622247730948,
            12.12771660239089
          ],
          [
            -86.23294215277993,
            12.128724459535775
          ],
          [
            -86.23226183445075,
            12.129060679904057
          ],
          [
            -86.23159646754654,
            12.129616174238322
          ],
          [
            -86.2311254774909,
            12.130595595640074
          ],
          [
            -86.23022999494037,
            12.1325717192978
          ],
          [
            -86.2289964503268,
            12.135473391308267
          ],
          [
            -86.22811309318578,
            12.13749691732923
          ],
          [
            -86.22765705554883,
            12.138308205444048
          ],
          [
            -86.22741782250462,
            12.138322823223817
          ],
          [
            -86.22432274546877,
            12.138264351927319
          ],
          [
            -86.22403865622894,
            12.138337440829432
          ],
          [
            -86.22344057381174,
            12.138483618555426
          ],
          [
            -86.2210631950338,
            12.138417838321445
          ],
          [
            -86.21951565716861,
            12.13824973403544
          ],
          [
            -86.21913437950427,
            12.138205880682492
          ],
          [
            -86.21864843738358,
            12.1380085405046
          ],
          [
            -86.21687533334934,
            12.136937663504114
          ],
          [
            -86.21667348046846,
            12.137332345301203
          ],
          [
            -86.21576140410271,
            12.138837978364165
          ],
          [
            -86.21525394155977,
            12.141222359623995
          ],
          [
            -86.21515675313572,
            12.141726667037645
          ],
          [
            -86.21509694487453,
            12.142179812014163
          ],
          [
            -86.21496237393478,
            12.14264379675896
          ],
          [
            -86.21381854094265,
            12.144266338975896
          ],
          [
            -86.21365645455374,
            12.14452975988796
          ],
          [
            -86.21351440993362,
            12.144931739141867
          ],
          [
            -86.21355179009694,
            12.146349624755217
          ],
          [
            -86.21366393005466,
            12.146722367188445
          ],
          [
            -86.21426201266539,
            12.148461822355003
          ],
          [
            -86.21456853030858,
            12.149258461843388
          ],
          [
            -86.21441900965567,
            12.149499645183951
          ],
          [
            -86.21302846713867,
            12.149375399418133
          ],
          [
            -86.21154073728157,
            12.149221919194687
          ],
          [
            -86.20971658531973,
            12.14881263781757
          ],
          [
            -86.20902878991609,
            12.14874686025719
          ],
          [
            -86.20835594697961,
            12.148878415086301
          ],
          [
            -86.20789243295673,
            12.14890764948359
          ],
          [
            -86.20715943566674,
            12.148968437381981
          ],
          [
            -86.20590346218505,
            12.148873425599447
          ],
          [
            -86.20228366919585,
            12.148551847000249
          ],
          [
            -86.1999246977589,
            12.14832221738962
          ],
          [
            -86.19780898060837,
            12.148102958839843
          ],
          [
            -86.19567516506429,
            12.14788212334733
          ],
          [
            -86.19543593202009,
            12.147830962952128
          ],
          [
            -86.19525650723706,
            12.14745822263346
          ],
          [
            -86.19519669897635,
            12.147173185565919
          ],
          [
            -86.19526173042614,
            12.143910965038913
          ],
          [
            -86.19537338535562,
            12.142993194813258
          ],
          [
            -86.19556776220372,
            12.141816481627458
          ],
          [
            -86.19565747577471,
            12.14117330633816
          ],
          [
            -86.19600137327573,
            12.140047747011735
          ],
          [
            -86.19644245648631,
            12.138680997200993
          ],
          [
            -86.19691362723364,
            12.137577000041489
          ],
          [
            -86.19772374798318,
            12.136031630174756
          ],
          [
            -86.19872287254667,
            12.134498677663785
          ],
          [
            -86.1982145023282,
            12.134140536693934
          ],
          [
            -86.1977883684682,
            12.133950502514793
          ],
          [
            -86.19718280982516,
            12.13378239524279
          ],
          [
            -86.19619597359727,
            12.133672375615546
          ],
          [
            -86.19488019185441,
            12.13352619523279
          ],
          [
            -86.19455124641846,
            12.133475032079886
          ],
          [
            -86.19449891419006,
            12.134264405346386
          ],
          [
            -86.19443162989658,
            12.135031849335675
          ]
        ],
        "type": "LineString"
      }

    }
  ]
}

//Creacion del objeto paradas104
var Paradas104 = [
  { id: 1, nombre: "Hialeah", longitud: 12.11642726703837, latitud: -86.28300547599794 },
  { id: 1.5, nombre: "Hialeah", longitud: 12.116495479446856, latitud: -86.28283917903902 },
  { id: 2, nombre: "Rosa de Saron", longitud: 12.114900353946929, latitud: -86.283016204834 },
  { id: 2.5, nombre: "Rosa de Saron", longitud: 12.114900353946929, latitud: -86.2829089164734 },
  { id: 3, nombre: "Entrada", longitud: 12.114108034776866, latitud: -86.28289818763734 },
  { id: 3.5, nombre: "Entrada", longitud: 12.114160506317788, latitud: -86.2828177213669 },
  { id: 4, nombre: "Benito Juarez", longitud: 12.112428940021351, latitud: -86.28282845020296 },
  { id: 4.5, nombre: "Benito Juarez", longitud: 12.112439434396377, latitud: -86.28272652626038 },
  { id: 5, nombre: "Salida a Pista Suburbana", longitud: 12.109301518917617, latitud: -86.28212034702302 },
  { id: 5.5, nombre: "Salida a Pista Suburbana", longitud: 12.109317260664376, latitud: -86.28200769424438 },
  { id: 6, nombre: "Pulperia La Pista", longitud: 12.109118720667315, latitud: -86.28329515457155 },
  ////// La rara
  { id: 6.5, nombre: "Cementerio El Carmen", longitud: 12.108788143544986, latitud: -86.2844216823578 },
  { id: 7, nombre: "Barrio Memorial Sandino", longitud: 12.110393800020173, latitud: -86.28684103488924 },
  { id: 7.5, nombre: "Barrio Memorial Sandino", longitud: 12.110414788929763, latitud: -86.28703415393831 },
  { id: 8, nombre: "Bosques de Nejapa", longitud: 12.113195804859995, latitud: -86.28663182258606 },
  { id: 8.5, nombre: "Bosques de Nejapa", longitud: 12.113216793549338, latitud: -86.28686785697938 },
  { id: 9, nombre: "Hospedaje San Francisco", longitud: 12.11707563957869, latitud: -86.28404617309572 },
  { id: 9.5, nombre: "Hospedaje San Francisco", longitud: 12.116928720842745, latitud: -86.28440022468568 },
  { id: 10, nombre: "Farmacia El Valle", longitud: 12.119247928592413, latitud: -86.28343999385835 },
  { id: 10.5, nombre: "Farmacia El Valle", longitud: 12.11936336374566, latitud: -86.28363847732545 },
  { id: 11, nombre: "Universidad del Valle", longitud: 12.124138137686298, latitud: -86.28342390060425 },
  { id: 11.5, nombre: "Universidad del Valle", longitud: 12.124578881741225, latitud: -86.28368139266969 },
  { id: 12, nombre: "Rotonda El Periodista", longitud: 12.12678783799531, latitud: -86.28207206726074 },
  { id: 12.5, nombre: "Rotonda El Periodista", longitud: 12.127149874210957, latitud: -86.28224372863771 },
  /////// Otra rara
  { id: 13.5, nombre: "Edificios El Centro", longitud: 12.128813135725334, latitud: -86.28118693828583 },
  { id: 14, nombre: "Edificio Naciones Unidas", longitud: 12.130581323495607, latitud: -86.28045201301576 },
  /////// Otra rara
  { id: 15, nombre: "LAFISE Plaza España", longitud: 12.133083544299721, latitud: -86.28108501434328 },
  /////// Otra rara
  { id: 15.5, nombre: "Plaza España", longitud: 12.133513352301168, latitud: -86.28141760826111 },
  { id: 16, nombre: "PriceSmart", longitud: 12.13588933994748, latitud: -86.27685248851778 },
  ////// Otra rara
  { id: 16.5, nombre: "Comercial Mabale", longitud: 12.136114724783464, latitud: -86.2769490480423 },
  { id: 17, nombre: "Mirador Tiscapa", longitud: 12.140157122106093, latitud: -86.26772224903108 },
  { id: 17.5, nombre: "Mirador Tiscapa", longitud: 12.140172846383807, latitud: -86.26793682575226 },
  { id: 18, nombre: "El Redentor", longitud: 12.14415105881639, latitud: -86.26709997653963 },
  { id: 18.5, nombre: "El Redentor", longitud: 12.144224437670614, latitud: -86.26674592494966 },
  { id: 19, nombre: "Gancho de Camino", longitud: 12.14422257246731, latitud: -86.26158535480499 },
  { id: 19.5, nombre: "Gancho de Camino", longitud: 12.145029738534742, latitud: -86.2608289718628 },
  { id: 20, nombre: "Bar Santo Domingo", longitud: 12.140389806133856, latitud: -86.25965416431428 },
  ////// Otra rara
  { id: 20.5, nombre: "Colegio Publico España", longitud: 12.138529095008517, latitud: -86.25899970531465 },
  { id: 21, nombre: "Colegio Cristo Rey", longitud: 12.136891699700229, latitud: -86.25871539115906 },
  ////// Otra rara
  { id: 21.5, nombre: "Clinica Ma. Auxiliadora", longitud: 12.136299410636637, latitud: -86.25838279724121 },
  { id: 22, nombre: "Rotonda Cristo Rey", longitud: 12.134332404405187, latitud: -86.25802874565125 },
  { id: 22.5, nombre: "Rotonda Cristo Rey", longitud: 12.134007428686292, latitud: -86.25777661800385 },
  { id: 23, nombre: "Rotonda Santo Domingo", longitud: 12.131447712745745, latitud: -86.25729382038118 },
  ////// Otra rara
  { id: 24, nombre: "Colonia Maximo Jerez", longitud: 12.128155969260671, latitud: -86.25635504722597 },
  { id: 24.5, nombre: "Colonia Maximo Jerez", longitud: 12.12895794235784, latitud: -86.25603318214418 },
  { id: 25, nombre: "Altamira", longitud: 12.125459087372908, latitud: -86.25450432300569 },
  { id: 25.5, nombre: "Altamira", longitud: 12.125480054232604, latitud: -86.25409126281738 },
  { id: 26, nombre: "Farmacity Altamira", longitud: 12.122641832133464, latitud: -86.25288963317873 },
  ////Todas raras
  { id: 26.5, nombre: "CECA", longitud: 12.122657557444477, latitud: -86.25264286994936 },
  { id: 27, nombre: "De mi tierra", longitud: 12.121068558793759, latitud: -86.25264286994936 },
  { id: 27.5, nombre: "Credifast Altamira", longitud: 12.120607279871031, latitud: -86.2524336576462 },
  { id: 28, nombre: "Zona Gamer Altamira", longitud: 12.117486643271668, latitud: -86.25193476676942 },
  { id: 28.5, nombre: "Tip Top Altamira", longitud: 12.117601964425845, latitud: -86.25174164772034 },
  ////////////////
  { id: 29, nombre: "Centro Comercial", longitud: 12.117518094500479, latitud: -86.25000894069673 },
  { id: 29.5, nombre: "Centro Comercial", longitud: 12.118414452963234, latitud: -86.24927401542664 },
  { id: 30, nombre: "Hosp. Manolo Morales", longitud: 12.120527050630086, latitud: -86.24591052532196 },
  { id: 30.5, nombre: "Hosp. Manolo Morales", longitud: 12.12100929690266, latitud: -86.24578714370728 },
  { id: 31, nombre: "Mercado Huembes", longitud: 12.122792622242592, latitud: -86.2430512905121 },
  { id: 31.5, nombre: "Mercado Huembes", longitud: 12.12384097368869, latitud: -86.2422788143158 },
  { id: 32, nombre: "Ferreteria Jenny", longitud: 12.126227511278682, latitud: -86.23895287513734 },
  { id: 32.5, nombre: "Ferreteria Jenny", longitud: 12.126390165633222, latitud: -86.23912990093233 },
  ////Esta no tiene al frente
  { id: 33, nombre: "Nicarao", longitud: 12.12803167627683, latitud: -86.23486518859865 },
  { id: 34, nombre: "Puente de Rubenia", longitud: 12.128519635741158, latitud: -86.23338460922243 },
  { id: 34.5, nombre: "Puente de Rubenia", longitud: 12.128708523035973, latitud: -86.23356699943542 },
  { id: 35, nombre: "Paso a desnivel Rubenia", longitud: 12.132521285980543, latitud: -86.23017668724061 },
  { id: 35.5, nombre: "Paso a desnivel Rubenia", longitud: 12.132043827444933, latitud: -86.23072922229768 },
  { id: 36, nombre: "UCYT", longitud: 12.135422746380447, latitud: -86.2289482355118 },
  { id: 36.5, nombre: "UCYT", longitud: 12.136020873529862, latitud: -86.22905015945435 },
  { id: 37, nombre: "Semaforos Villa Progreso", longitud: 12.138257730252771, latitud: -86.22708227887587 },
  { id: 37.5, nombre: "Semaforos Villa Progreso", longitud: 12.138355664375043, latitud: -86.22707029149399 },
  { id: 38, nombre: "UNI-RUPAP", longitud: 12.138269017064244, latitud: -86.22399151325226 },
  { id: 38.5, nombre: "UNI-RUPAP", longitud: 12.138410677365473, latitud: -86.22398614883424 },
  { id: 39, nombre: "Bar Doña Thel", longitud: 12.138379429808275, latitud: -86.22187793254852 },
  { id: 39.5, nombre: "Bar Doña Thel", longitud: 12.138526336725, latitud: -86.22196912765504 },
  { id: 40, nombre: "UPOLI", longitud: 12.138211411064564, latitud: -86.21975898742677 },
  { id: 40.5, nombre: "UPOLI", longitud: 12.138384551459945, latitud: -86.21988236904146 },
  { id: 41, nombre: "Rafaela Herrera", longitud: 12.137225456665405, latitud: -86.21667444705963 },
  { id: 41.5, nombre: "Rafaela Herrera", longitud: 12.137660932390437, latitud: -86.21667444705963 },
  { id: 42, nombre: "Miguel Gutierrez", longitud: 12.141223411889486, latitud: -86.21520459651947 },
  { id: 42.5, nombre: "Miguel Gutierrez", longitud: 12.141559195423307, latitud: -86.21538162231445 },
  { id: 43, nombre: "Zona Franca Dasol", longitud: 12.144004106514233, latitud: -86.21394395828248 },
  { id: 43.5, nombre: "Zona Franca Dasol", longitud: 12.144187736269224, latitud: -86.2141263484955 },
  { id: 44, nombre: "Taller Conrado", longitud: 12.146632623224102, latitud: -86.21357381343843 },
  { id: 44.5, nombre: "Taller Conrado", longitud: 12.14676378605276, latitud: -86.21390104293825 },
  { id: 45, nombre: "Semaforos del Dancing", longitud: 12.14851086876666, latitud: -86.21420681476593 },
  { id: 45.5, nombre: "Semaforos del Dancing", longitud: 12.148652523619255, latitud: -86.21458768844606 },
  { id: 46, nombre: "AGCO", longitud: 12.149298049776258, latitud: -86.21301591396333 },
  ///////Otra rara
  { id: 46.5, nombre: "ESCASAN", longitud: 12.149654808946426, latitud: -86.21301591396333 },
  { id: 47, nombre: "Waspan", longitud: 12.148773403069052, latitud: -86.2085258960724 },
  ///////Otra rara
  { id: 47.5, nombre: "Bomberos Waspan", longitud: 12.149292803314319, latitud: -86.2082362174988 },
  { id: 48, nombre: "Entrada Barrio Hugo Chavez", longitud: 12.148558459927537, latitud: -86.20315074920654 },
  { id: 48.5, nombre: "Entrada Barrio Hugo Chavez", longitud: 12.14878930479257, latitud: -86.20252847671509 },
  { id: 49, nombre: "La Rocargo", longitud: 12.148112658365225, latitud: -86.19877879321852 },
  { id: 49.5, nombre: "La Rocargo", longitud: 12.148558609239377, latitud: -86.19999115169328 },
  { id: 50, nombre: "Policia Distrito VI", longitud: 12.146754426994882, latitud: -86.19529724121095 },
  { id: 50.5, nombre: "Policia Distrito VI", longitud: 12.146749180482791, latitud: -86.19512557983398 },
  { id: 51, nombre: "Los Rieles", longitud: 12.14176165938883, latitud: -86.1956298351288 },
  { id: 51.5, nombre: "Los Rieles", longitud: 12.141677713608864, latitud: -86.19550108909607 },
  { id: 52, nombre: "Concepcion de Maria", longitud: 12.13959470555254, latitud: -86.19620644195616 },
  { id: 52.5, nombre: "Concepcion de Maria", longitud: 12.13953699236211, latitud: -86.19604550941527 },
  { id: 53, nombre: "Pista el Mayoreo", longitud: 12.136960872671992, latitud: -86.19729005439818 },
  { id: 53.5, nombre: "Pista el Mayoreo", longitud: 12.137307154975716, latitud: -86.19691990955413 },
  { id: 54, nombre: "Parque Concepcion de Maria", longitud: 12.133889712605635, latitud: -86.19785606861116 },
  { id: 54.5, nombre: "Parque Concepcion de Maria", longitud: 12.134157297509475, latitud: -86.19773805141449 },
  { id: 55, nombre: "Mercado Mayoreo", longitud: 12.13495460864689, latitud: -86.19439065456392 },
  { id: 55.5, nombre: "Mercado Mayoreo", longitud: 12.13498608911197, latitud: -86.19466423988344 }
]

//////////////////// FUNCIONALIDADES SUELTAS ///////////////////////

// const IconBusIzq = L.icon({

//   iconSize: [32, 32], // Tamaño del ícono en píxeles
//   // iconAnchor: [16, 32], // Punto de anclaje del ícono
//   // popupAnchor: [0, -32] // Punto de anclaje del popup
// });

// Crea un marcador con el ícono personalizado


// Parada en el RUPAP
// var markerRUPAP = L.marker([12.138422, -86.224045]).addTo(mapa);
// markerRUPAP.bindPopup("Villa Progreso/RUPAP").openPopup();

//   Funcion para eliminar del mapa
//   L.geoJSON(ParadasRuta104MM_H__GEOJsonLine,{}).removeFrom(mapa)

////////////////////////////////////////////////////////////////////

/*------------------------ Funcion de Ubicacion Actual ---------------------*/
var btnUbicacionActual = document.getElementById("btn-ubicacionActual");

btnUbicacionActual.addEventListener("click", function () {
  var UbicacionInicial = document.getElementById("UbicacionI");
  UbicacionInicial.value = "Mi Ubicacion Actual";


  // Crea un marcador en tu ubicación y añádelo al mapa
  var marker = L.marker([12.109951220893143, -86.2246329946382]).addTo(mapa);
  // /*latitud*/ /*longitud*/
  // marker.bindPopup("¡Estás aquí!").openPopup();
  // // Vuela hacia tu ubicación con una animación
  // mapa.flyTo([12.109951220893143, -86.2246329946382], 13);
  /*latitud*//*longitud*/
  //   });
  // } else {
  //   console.log('La geolocalización no es compatible en este navegador.');
  // }

})


/*--------------------------- Funcion Buscar Ruta --------------------------*/

document.getElementById("Busqueda").addEventListener("click", function () {
  if (document.getElementById("txtBuscar").value.trim() !== "") {
    document.getElementById("Resultados").style.display = "flex";
    document.getElementById("Resultados").style["flex-direction"] = "column";

    L.geoJSON(Ruta104MM_H__GEOJsonLine, {
      style: {
        color: "green"
      }
    }).addTo(mapa)

    L.geoJSON(Ruta104H_MM__GEOJsonLine, {
      style: {
        color: "purple"
      }
    }).addTo(mapa)

    ///Para poner circulos en las paradas

    // Se crea un arreglo para almacenar los marcadores de las paradas
    var paradas = [];
    // Recorrer los elementos del objeto Paradas104
    for (var i = 0; i < Paradas104.length; i++) {
      var parada = Paradas104[i];
      var longitud = parada.longitud;
      var latitud = parada.latitud;

      // Crear un marcador en las coordenadas de cada elemento
      var paradaMarker = L.circle([longitud, latitud], {
        radius: 25,
        fillColor: "red",
        fillOpacity: 0.5,
      }).addTo(mapa);

      paradas.push(paradaMarker);
    }
    /////Cambbiandole el radio a circulo al hacer zoom en el mapa
    mapa.on('zoomend', function () {
      var zoomLevel = mapa.getZoom(); // Obtener el nivel de zoom actual
      var scaleFactor = 1 - (zoomLevel * 0.03); // Calcular el factor de escala basado en el nivel de zoom

      for (var j = 0; j < paradas.length; j++) {
        var paradaMarker = paradas[j];
        var newRadius = 25 * scaleFactor; // Calcular el nuevo radio del círculo
        paradaMarker.setRadius(newRadius); // Actualizar el radio del círculo
      }
    });

  } else {
    alert("Debe llenar el cuadro de busqueda");
  }

})


/*--------------------------- Funcion resaltar punto en el mapa al dar click en el menu --------------------------*/

// Obtiene todos los elementos con la clase 'far fa-dot-circle' dentro de 'PuntosRuta'
var elementosMenu = document.querySelectorAll('.PuntosRuta .Parada');
// Asigna el controlador de eventos a cada elemento del menú
elementosMenu.forEach(function (elemento) {
  elemento.addEventListener('click', function () {
    var nombre = this.getAttribute('data-nombre');
    resaltarPunto(nombre);

  });
});

var marcadoresResaltados = [];
var elementoSeleccionado = null;

function resaltarPunto(nombre) {
  // Restablecer el marcador previamente resaltado
  for (var i = 0; i < marcadoresResaltados.length; i++) {
    mapa.removeLayer(marcadoresResaltados[i]);
  }
  marcadoresResaltados = [];

  // Restaurar el estado del elemento previamente seleccionado
  if (elementoSeleccionado) {
    var padrePrevio = elementoSeleccionado.parentNode;
    var primerHijoPrevio = elementoSeleccionado.firstElementChild;
    primerHijoPrevio.classList.remove("fas");
    primerHijoPrevio.classList.add("far");
    padrePrevio.style["background-color"] = "white";
    elementoSeleccionado.style["background-color"] = "white";
  }

  // Recorre los puntos de interés para encontrar el punto correspondiente al nombre
  for (var i = 0; i < Paradas104.length; i++) {
    if (Paradas104[i].nombre === nombre) {
      var punto = Paradas104[i];
      var marcador = L.marker([punto.longitud, punto.latitud], { style: { color: "red" } }).addTo(mapa);
      marcador.bindPopup(punto.nombre).openPopup();
      mapa.flyTo([punto.longitud, punto.latitud], 16);
      marcadoresResaltados.push(marcador);

      // Actualizar el estado del nuevo elemento seleccionado
      elementoSeleccionado = document.querySelector('[data-nombre="' + nombre + '"]');
      var padreNuevo = elementoSeleccionado.parentNode;
      var primerHijoNuevo = elementoSeleccionado.firstElementChild;
      primerHijoNuevo.classList.remove("far");
      primerHijoNuevo.classList.add("fas");
      padreNuevo.style["background-color"] = "lightgray";
      elementoSeleccionado.style["background-color"] = "lightgray";
    }
  }
}

///////////////////// Rellenar el select de la alarma dinamicamente //////////////////

const select = document.getElementById("Posibparadas");
const TerminalI = document.getElementById("TerminalI");

var opcionSeleccionar = document.createElement('option');
opcionSeleccionar.text = 'Seleccionar';
opcionSeleccionar.value = 'Seleccionar';
select.add(opcionSeleccionar, 0);

TerminalI.addEventListener("change", function () {
  const selected = TerminalI.value;
  select.innerHTML = "";

  if (selected === "Hialeah") {
    for (var elemento of Paradas104) {
      if (Number.isInteger(elemento.id)) {
        var opcion = document.createElement("option");
        opcion.value = elemento.nombre;
        opcion.textContent = elemento.nombre;
        select.appendChild(opcion);
      } else {
        continue;
      }
    }
  } else if (selected === "Mercado Mayoreo") {
    for (var elemento of Paradas104) {
      if (!Number.isInteger(elemento.id)) {
        var opcion = document.createElement("option");
        opcion.value = elemento.nombre;
        opcion.textContent = elemento.nombre;
        select.appendChild(opcion);
      } else {
        continue;
      }
    }
  }
})